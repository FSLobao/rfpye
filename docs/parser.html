---

title: Parser


keywords: fastai
sidebar: home_sidebar



nb_path: "01_parser.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 01_parser.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Fonte: # <a href="https://github.com/fastai/fastai/blob/master/fastai/data/transforms.py#L26">https://github.com/fastai/fastai/blob/master/fastai/data/transforms.py#L26</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_files" class="doc_header"><code>get_files</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L55" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_files</code>(<strong><code>path</code></strong>, <strong><code>extensions</code></strong>=<em><code>None</code></em>, <strong><code>recurse</code></strong>=<em><code>True</code></em>, <strong><code>folders</code></strong>=<em><code>None</code></em>, <strong><code>followlinks</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Get all the files in <code>path</code> with optional <code>extensions</code>, optionally with <code>recurse</code>, only in <code>folders</code>, if specified.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="binary_file_generator" class="doc_header"><code>binary_file_generator</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L75" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>binary_file_generator</code>(<strong><code>bin_file</code></strong>:<code>Union</code>[<code>str</code>, <code>Any</code>], <strong><code>marker</code></strong>:<code>bytes</code>=<em><code>b'\x00UUUU'</code></em>, <strong><code>block_size</code></strong>:<code>int</code>=<em><code>4096</code></em>)</p>
</blockquote>
<p>str, bytes, int &gt; bytes
:param bin_file: arquivo binario que contém os dados
:param marker: separador de blocos
:param block_size: tamanho em bytes que é "lido" por vez no arquivo, evitando problemas de memória
:return: bloco em formato binario
Gerador que fornece a partir de de um arquivo binário, um bloco binário por vez.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A função a seguir mapeia o arquivo <code>.bin</code> nos devidos blocos</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="file2block" class="doc_header"><code>file2block</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L104" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>file2block</code>(<strong><code>file</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>
<p>Receives a path to a bin file and returns a defaultdict with unique block types as keys and a list of the Class Blocks as values
:param file: A string or pathlib.Path like path to a <code>.bin</code>file generated by CFRS - Logger
:return: A Dictionary with block types as keys and a list of the Class Blocks available as values</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Code below borrowed from <a href="https://medium.com/bigdatarepublic/advanced-pandas-optimize-speed-and-memory-a654b53be6c2">https://medium.com/bigdatarepublic/advanced-pandas-optimize-speed-and-memory-a654b53be6c2</a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="optimize_floats" class="doc_header"><code>optimize_floats</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L116" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>optimize_floats</code>(<strong><code>df</code></strong>:<code>DataFrame</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="optimize_ints" class="doc_header"><code>optimize_ints</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L122" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>optimize_ints</code>(<strong><code>df</code></strong>:<code>DataFrame</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="optimize_objects" class="doc_header"><code>optimize_objects</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L128" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>optimize_objects</code>(<strong><code>df</code></strong>:<code>DataFrame</code>, <strong><code>datetime_features</code></strong>:<code>List</code>[<code>str</code>])</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="optimize" class="doc_header"><code>optimize</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L139" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>optimize</code>(<strong><code>df</code></strong>:<code>DataFrame</code>, <strong><code>datetime_features</code></strong>:<code>List</code>[<code>str</code>]=<em><code>[]</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="export_bin_level" class="doc_header"><code>export_bin_level</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L147" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>export_bin_level</code>(<strong><code>map_block</code></strong>:<code>Mapping</code>[<code>int</code>, <code>L</code>], <strong><code>pivoted</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>freq_dtype</code></strong>:<code>str</code>=<em><code>'float32'</code></em>)</p>
</blockquote>
<p>Receives a mapping <code>map_block</code> and returns the Matrix with the Levels as values, Frequencies as columns and Block Number as index.
:param pivoted: If False, optionally returns an unpivoted version of the Matrix</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="export_bin_meta" class="doc_header"><code>export_bin_meta</code><a href="https://github.com/ronaldokun/rfpy/tree/master/rfpy/parser.py#L170" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>export_bin_meta</code>(<strong><code>map_block</code></strong>:<code>Mapping</code>[<code>int</code>, <code>L</code>])</p>
</blockquote>
<p>Receives a Mapping with the different <code>. bin</code> Blocks and extracts the metadata listed in <a href="/rfpy/parser.html#META"><code>META</code></a> in a dataframe format</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

